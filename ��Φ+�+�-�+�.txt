曼波整站系统的安装和升级说明

创建: 2007-06-12
修改: 2008-04-22

1. 初次安装曼波整站系统的步骤

1) 解压缩曼波整站系统压缩文件。
2) 上传或复制到网站目录。
3) 在浏览器中访问曼波所在的网址，即可进入安装界面。
4) 根据安装界面的提示，输入相应的数据库资料和网站资料。
5) 安装成功后，安装程序在曼波目录中生成 configuration.php 文件，并把 installation 目录改名为随机数字开头的名字 xxxxinstallation。


2. 重新安装曼波整站系统的步骤

对于已经安装好的曼波整站系统，如要重新安装，请参考以下步骤：

1) 删除曼波目录中的 configuration.php 文件
2) 把 xxxxinstallation 目录改名为 installation
3) 在浏览器中访问曼波所在的网址，即可进入安装界面
4) 在安装的第一步“MySQL 数据库配置”，选上“删除旧的数据表？”，安装程序将删除原来的数据表。
5) 安装成功后，安装程序在曼波目录中生成 configuration.php 文件，并把 installation 目录改名为随机数字开头的名字 xxxxinstallation。


3. 升级说明

重要提示：升级前请一定先做好网站文件和数据库的备份，以便升级失败能恢复原状。

3.1 升级曼波4.5.x 或曼波整站系统5.0.0 到曼波整站系统5.1.0

1) 解压缩曼波整站系统压缩文件。
2) 覆盖曼波4.5.x 或曼波整站系统5.0.0的目录和文件。
3) 把 installation 目录下的 upgrade1.php 复制到曼波根目录。
4) 在浏览器中打开 upgrade1.php，点击"开始升级"按钮，执行完后提示升级成功。
5) 删除 upgrade1.php 文件和 installation 目录。


3.2 升级曼波整站系统5.1.0 到曼波整站系统5.2.0

1) 解压缩曼波整站系统5.2.0压缩文件。
2) 覆盖曼波整站系统5.1.0的目录和文件。
3) 把 installation 目录下的 upgrade2.php 复制到曼波根目录。
4) 在浏览器中打开 upgrade2.php，点击"开始升级"按钮，执行完后提示升级成功。
5) 删除 upgrade2.php 文件和 installation 目录。
注意：对于在mysql5下没有出现乱码、使用正常的网站，升级时请不要覆盖 includes/database.php 文件，否则可能会出现乱码。


3.3 升级曼波整站系统5.2.0 到曼波整站系统5.3.0
1) 解压缩曼波整站系统5.3.0压缩文件。
2) 覆盖曼波整站系统5.2.0的目录和文件。
3) 删除 installation 目录。


3.4 升级曼波整站系统5.3.0 到曼波整站系统5.4.0
1) 解压缩曼波整站系统5.4.0压缩文件。
2) 覆盖曼波整站系统5.3.0的目录和文件。
3) 删除 installation 目录。
因不涉及数据库结构改动，也可以用覆盖文件的方法直接把 5.2.0 升级到 5.4.0

如果你的网站正在使用SEF，升级到5.4.0后静态网址出现故障，请按以下操作：
1. 参照 htaccess.txt 的内容来修改 .htaccess 文件。
2. 检查是否存在文件 components/com_mamhoo/sef.php，如果有，请删除它。


3.5 升级曼波整站系统5.4.0 到曼波整站系统5.5.0

1) 解压缩曼波整站系统5.5.0压缩文件。
2) 覆盖曼波整站系统5.4.0的目录和文件。
3) 把 installation 目录下的 upgrade3.php 复制到上一级目录下，也就是复制到曼波根目录下。
4) 在浏览器中打开 upgrade3.php，点击"开始升级"按钮，执行完后提示升级成功。
5) 删除 upgrade3.php 文件和 installation 目录。
